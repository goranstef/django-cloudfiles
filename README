django-cloudfiles

Summary
-------

Mosso, the shared hosting provider owned by Rackspace, offers a new file
storage service called CloudFiles. Bundled with CloudFiles is the option to
make your files publicly available over Limelight's CDN. This is very cool!

However, there are some downsides. Currently my biggest gripes are:
 1. no control over headers (namely Expires, which is set at 8 hours)
 2. no gzip
 3. no HTTPS
 4. no hierarchies; you can divide content into "containers", but they're only
    one level deep (a flat hierarchy), which doesn't map well to the typical
    media/{css,js,img,swf} style organization that most devs seems to follow.

This app will try to provide a solution to gripe #4 by:
 * allowing you to keep your existing media structure
 * translating your media structure into unique file names
   (e.g. media/images/logo.png becomes media_images_logo.png or similar)
   and uploading it to CloudFiles via their Python API
 * providing a template tag (or some other facility) for translating your media
   file names into the CloudFiles file names in templates
 * providing a manage.py command for easily publishing your media to CloudFiles

Maturity
--------

Working proof of concept.

Instalation
-----------

1. Download the CloudFiles Python API (project developed against 1.3.0):
   https://api.mosso.com/clients/cloudfiles/python-cloudfiles-1.3.0.zip

2. Extract the API and put the contained folder cloudfiles/ in your PYTHONPATH.

3. Put django_cloudfiles/ in your PYTHONPATH.

4. Add django_cloudfiles to your INSTALLED_APPS

5. Configure some settings in your settings file (these are optional; they can
   be passed on the commad line to manage.py instead of coded in setings.py):

    * MOSSO_USERNAME - your Mosso username used for accessing CloudFiles
    * MOSSO_API_KEY - your Mosso API key used for accessing CloudFiles
    * CLOUDFILES_CONTAINER_NAME - the container to upload files to

6. (optional) If you use the CDN feature of CloudFiles, set your MEDIA_URL
   to be the public URI of your container. NOTE: It's useful to override this
   in a settings_dev.py file if you develop offline locally.

TODO
----

replace dummy files with some real hierarchy-parsing logic
some reporting on how long each file took to upload
object.etag configuration
